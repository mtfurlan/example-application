# Copyright (c) 2021 Nordic Semiconductor ASA
# SPDX-License-Identifier: Apache-2.0
#
# This file contains selected Kconfig options for the application.

CONFIG_SENSOR=y
CONFIG_I2C=y
CONFIG_SPI=y

CONFIG_MINIMAL_LIBC=y

CONFIG_MINIMAL_LIBC_MALLOC=n
CONFIG_UBXLIB=y
CONFIG_UBXLIB_GNSS=y

# This is the memory used by the porting layer
CONFIG_HEAP_MEM_POOL_SIZE=131072
CONFIG_USERSPACE=y

# To get uPortTaskStackMinFree() working
CONFIG_INIT_STACKS=y
CONFIG_THREAD_STACK_INFO=y
CONFIG_THREAD_NAME=y


# Sufficient main stack to pass all tests and leave
# 5 kbytes slack for user code
CONFIG_MAIN_STACK_SIZE=7048

# Make it possible to write and execute from RAM for libCommon
CONFIG_EXECUTE_XOR_WRITE=n

# Don't hide any potential errors
CONFIG_ASSERT=y

# SEGGER RTT logging instead of UART
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
# If Log level 4 is set the log stack size needs to be increased
#CONFIG_LOG_PROCESS_THREAD_STACK_SIZE=8096
CONFIG_DEBUG_OPTIMIZATIONS=y
CONFIG_USE_SEGGER_RTT=y
CONFIG_RTT_CONSOLE=y
CONFIG_UART_CONSOLE=n
CONFIG_LOG_BACKEND_UART=n
CONFIG_LOG_BACKEND_SHOW_COLOR=y
CONFIG_RTT_CONSOLE=y
CONFIG_CONSOLE=y
# Default RTT buffer is 1024 - we need a little more for our tests
CONFIG_SEGGER_RTT_BUFFER_SIZE_UP=2048
# End of SEGGER RTT
